name: Processing pull requests
on:
  pull_request_target:
    types: [closed]

jobs:
  communicate-on-pull-request-merged:
    name: communicate on pull request merged
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - name: Communicate on PR merged
        if: github.event.pull_request.merged
        uses: fastlane/github-actions/communicate-on-pull-request-merged@latest
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          pr-comment: >
            Hey @${{ github.event.pull_request.user.login }} :wave:

            
            Thank you for your contribution to _fastlane_ and congrats on getting this pull request merged :tada:
            
            The code change now lives in the `master` branch, however it wasn't released to [RubyGems](https://rubygems.org/gems/fastlane) yet.
            
            We usually ship about once a month, and your PR will be included in the next one.
            
            
            Please let us know if this change requires an immediate release by adding a comment here :+1:
            
            We'll notify you once we shipped a new release with your changes :rocket:"
          pr-label-to-add: 'status: included-in-next-release'
          pr-label-to-remove: 'status: needs-attention'
